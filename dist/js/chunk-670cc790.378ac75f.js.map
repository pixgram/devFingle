{"version":3,"sources":["webpack:///./src/api/interceptors.js","webpack:///./src/api/index.js","webpack:///./src/api/modules/coach.js","webpack:///./src/views/coach/qa/write.vue?2a30","webpack:///./src/views/coach/qa/write.vue?d152","webpack:///src/views/coach/qa/write.vue","webpack:///./src/views/coach/qa/write.vue?2b29","webpack:///./src/views/coach/qa/write.vue"],"names":["setInterceptors","instance","interceptors","request","use","config","headers","Authorization","store","state","userInfo","apchTknVal","app_os_code","getters","app_version","bus","$emit","error","msg","response","data","message","time","console","Promise","reject","code","bridge","callNative","getToken","commit","root","router","push","status","createWithAuth","options","baseUrl","process","axios","create","Object","assign","baseURL","timeout","responseEncoding","getCoachCategory","params","get","getCoachList","log","getCoachIntro","getCoachReview","getCoachFaq","postCoachInquiry","post","getCoachQACode","postCoachQA","getCoachQA","render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","preventDefault","submitData","apply","arguments","staticClass","form","category","placeholder","validateForInput","model","value","callback","$$v","$set","expression","text","maxlength","_v","agree","list","filter","el","disabled","map","checked","_l","item","index","key","_s","label","openAgreeModal","_e","submitDisabled","agreeModalSeq","staticRenderFns","name","require","minLength","files","formValidation","presence","allowEmpty","length","minimum","maximum","all","computed","mapState","mounted","beforeDestroy","window","beforeRouteLeave","to","from","next","t","created","resolve","methods","mapMutations","$_modalOpen","$router","replace","query","modal","id","unLoadEvent","canLeaveSite","event","categoryData","formData","openAlertModal","components","agreeModal","component"],"mappings":"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","file":"js/chunk-670cc790.378ac75f.js","sourcesContent":["import bus from '@/utils/bus';\nimport bridge from '@/utils/WebViewBridgeDefault';\nimport store from '@/store';\nimport router from '@/router';\n\nfunction setInterceptors(instance) {\n  instance.interceptors.request.use(\n    (config) => {\n      config.headers.Authorization = store.state.userInfo.apchTknVal;\n      config.headers.app_os_code = store.getters['deviceInfo/OS_CODE'];\n      config.headers.app_version = store.getters['deviceInfo/APP_VERSION'];\n      bus.$emit('loading', true);\n      return config;\n    },\n    (error) => {\n      bus.$emit('loading', false);\n      bus.$emit('toast', { msg: error.response.data.message, time: 3000 });\n      console.error(error);\n      return Promise.reject(error.response);\n    }\n  );\n  instance.interceptors.response.use(\n    (config) => {\n      bus.$emit('loading', false);\n      return config.data;\n    },\n    async (error) => {\n      bus.$emit('loading', false);\n      //bus.$emit('toast', { msg: error.response.data.message, time: 3000 });\n\n      // \t토큰 만료\n      if (error.response.data.code === 'ERR104') {\n        bridge.callNative.getToken();\n        bus.$emit('toast', {\n          msg: '토큰 만료',\n        });\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        // Server Unchecked Exception (서버 에러) -> 백엔드팀에 문의\n        if (error.response.data.code === 'ERR001') {\n          bus.$emit('toast', {\n            msg: '서버 에러',\n          });\n        }\n\n        // Bxm Unchecked Exception (BXM 에러) -> 백엔드팀에 문의\n        if (error.response.data.code === 'ERR002') {\n          bus.$emit('toast', {\n            msg: 'BXM 에러',\n          });\n        }\n\n        // 시스템점검\n        if (error.response.data.code === 'ERR003') {\n          bus.$emit('toast', {\n            msg: '시스템점검',\n          });\n        }\n\n        // \t강제 앱 업데이트\n        if (error.response.data.code === 'ERR004') {\n          bus.$emit('toast', {\n            msg: '강제 앱 업데이트',\n          });\n        }\n\n        // \t접근 권한 에러\n        if (error.response.data.code === 'ERR102') {\n          bus.$emit('toast', {\n            msg: '접근 권한 에러',\n          });\n        }\n\n        // \t토큰 위변조\n        if (error.response.data.code === 'ERR105') {\n          bus.$emit('toast', {\n            msg: '토큰 위변조',\n          });\n        }\n\n        // \t토큰이 없습니다.\n        if (error.response.data.code === 'ERR106') {\n          bus.$emit('toast', {\n            msg: '토큰이 없습니다.',\n          });\n        }\n\n        // \t비밀번호가 변경되었습니다. 재 로그인해주세요.\n        if (error.response.data.code === 'ERR110') {\n          bus.$emit('toast', {\n            msg: '비밀번호가 변경되었습니다. 재 로그인해주세요.',\n          });\n        }\n        // \t파라메터 유효성 검사 에러\n        if (error.response.data.code === 'ERR301') {\n          bus.$emit('toast', {\n            msg: '파라메터 유효성 검사 에러',\n          });\n        }\n\n        // \t등록, 수정 처리 실패\n        if (error.response.data.code === 'ERR302') {\n          bus.$emit('toast', {\n            msg: '등록, 수정 처리 실패',\n          });\n        }\n\n        if (error.response?.status === 400) {\n          bus.$emit('toast', { msg: '클라이언트 에러' });\n        }\n      }\n\n      // \t삭제된 데이터 요청\n      if (error.response.data.code === 'ERR303') {\n        if (process.env.NODE_ENV === 'production') {\n          store.commit('MU_CAN_LEAVE_SITE', true, { root: true });\n          await router.push('/404');\n        } else {\n          bus.$emit('toast', {\n            msg: '삭제된 데이터 요청',\n          });\n        }\n      }\n\n      if (error.response?.status === 500) {\n        if (process.env.NODE_ENV === 'production') {\n          store.commit('MU_CAN_LEAVE_SITE', true, { root: true });\n          await router.push('/500');\n        } else {\n          bus.$emit('toast', {\n            msg: '500에러',\n          });\n        }\n      }\n      return Promise.reject(error.response);\n    }\n  );\n  return instance;\n}\n\nexport { setInterceptors };\n","import axios from 'axios';\nimport { setInterceptors } from './interceptors';\n\nfunction createWithAuth(options) {\n  // console.log(process.env.NODE_ENV);\n  const baseUrl =\n    process.env.NODE_ENV !== 'local'\n      ? `${process.env.VUE_APP_API_URL}/b2c/api/`\n      : '/b2c/api/';\n  const instance = axios.create(\n    Object.assign(\n      {\n        baseURL: baseUrl,\n        timeout: 0,\n        responseEncoding: 'utf8',\n      },\n      {\n        ...options,\n      }\n    )\n  );\n  setInterceptors(instance);\n  return instance;\n}\n\nexport const instance = createWithAuth();\n","import { instance } from '../index';\n\n/**\n * 핑클 코치 카테고리 조회\n * @author 지은유\n * @param {object} params 요청시 필요한 필수 파라미터 code\n * @return {object} 요청한 데이터\n */\nfunction getCoachCategory(params) {\n  return instance.get(`/ccoa0102r001`, { params: params });\n}\n/**\n * 핑글 코치 목록 조회 - Page\n * @author 지은유\n * @param {object} params 요청시 필요한 필수 파라미터 categoryInherit, cfntCnslUseYn, chtgUseYn, orderType, page, size, telCnslUseYn, vdeoUseYn\n * @return {object} 요청한 데이터\n */\nfunction getCoachList(params) {\n  console.log(params);\n  return instance.get(`/ccoa0102r002`, { params: params });\n}\n/**\n * 핑글코치 상세 : 소개 조회\n * @author 이정민\n * @param {object} params 요청시 필요한 필수 파라미터 cchSno(코치일련번호), infoFlag(공통 정보 데이터 조회 여뷰), scoreFlag(별점 통계 조회 여부)\n * @return {object} 요청한 데이터\n */\nfunction getCoachIntro(params) {\n  return instance.get(`/ccoa0102r003`, { params: params });\n}\n/**\n * 핑글코치 상세 : 상담후기 조회\n * @author 이정민\n * @param {object} params 요청시 필요한 필수 파라미터 cchSno(코치일련번호), infoFlag(공통 정보 데이터 조회 여뷰)\n * @return {object} 요청한 데이터\n */\nfunction getCoachReview(params) {\n  return instance.get(`/ccoa0102r004`, { params: params });\n}\n/**\n * 핑글코치 상세 : 자주묻는질문 조회\n * @author 이정민\n * @param {object}\n * @return {object} 요청한 데이터\n */\nfunction getCoachFaq(params) {\n  return instance.get(`/ccoa0102r005`, { params: params });\n}\n/**\n * 핑글코치 상세 : 직접문의하기 팝업\n * @author 이정민\n * @data {object} 필수 요청 데이터 : aspeSno(일련번호), qustCtt(문의내용)\n * @return {object} 요청한 데이터\n */\nfunction postCoachInquiry(data) {\n  return instance.post(`/ccoa0102c003`, data);\n}\n\n/**\n * 핑글코치 분야별 QNA : 분야별질문항목코드\n * @author 김소연\n * @data {object} 필수 요청 데이터 : fldtpQustTrmCd(분야별질문항목코드), psnlInfoTptyOfrAgrYn(개인정보3자제공동의여부), psnlInfoUtlAgrYn(개인정보이용동의여부)\n * @return {object} 요청한 데이터\n */\nfunction getCoachQACode(params) {\n  return instance.get(`/ccomgroup/COA001`, { params: params });\n}\n\n/**\n * 핑글코치 분야별 QNA : 작성 페이지\n * @author 김소연\n * @data {object} 필수 요청 데이터 : fileList(파일 목록), fldtpQustTrmCd(분야별질문항목코드), psnlInfoTptyOfrAgrYn(개인정보3자제공동의여부), psnlInfoUtlAgrYn(개인정보이용동의여부), qustCtt(질문내용)\n * @return {object} 요청한 데이터\n */\nfunction postCoachQA(data) {\n  return instance.post(`/ccoa0301c001`, data);\n}\n\n/**\n * 핑글코치 분야별 QNA기본 조회 : 상세 페이지\n * @author 김소연\n * @data {object} 필수 요청 데이터 : fldtpQnaSno(분야별QNA일련번호)\n * @return {object} 요청한 데이터\n */\nfunction getCoachQA(params) {\n  return instance.get(`/ccoa0301r003`, { params: params });\n}\n\nexport {\n  getCoachCategory,\n  getCoachList,\n  getCoachIntro,\n  getCoachReview,\n  getCoachFaq,\n  postCoachInquiry,\n  getCoachQACode,\n  postCoachQA,\n  getCoachQA,\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./write.vue?vue&type=style&index=0&id=56dd8b38&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('container',{attrs:{\"headerType\":\"modal\"}},[_c('fade-title'),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitData.apply(null, arguments)}}},[_c('form-select',{staticClass:\"mt10\",attrs:{\"border\":\"border\",\"options\":_vm.form.category.options,\"error\":_vm.form.category.error,\"placeholder\":_vm.form.category.placeholder},on:{\"change\":function($event){return _vm.validateForInput('category')}},model:{value:(_vm.form.category.value),callback:function ($$v) {_vm.$set(_vm.form.category, \"value\", $$v)},expression:\"form.category.value\"}}),_c('form-textarea',{staticClass:\"mt20\",attrs:{\"maxlength\":_vm.form.text.maxlength,\"error\":_vm.form.text.error,\"placeholder\":_vm.form.text.placeholder},on:{\"focusout\":function($event){return _vm.validateForInput('text')}},model:{value:(_vm.form.text.value),callback:function ($$v) {_vm.$set(_vm.form.text, \"value\", $$v)},expression:\"form.text.value\"}}),_c('h2',{staticClass:\"item-title gray-70 mt20\"},[_vm._v(\" 파일첨부\"),_c('span',{staticClass:\"opt-text\"},[_vm._v(\"(선택)\")])]),_c('form-file-list',{attrs:{\"maxImgLength\":3},model:{value:(_vm.form.files),callback:function ($$v) {_vm.$set(_vm.form, \"files\", $$v)},expression:\"form.files\"}}),_c('p',{staticClass:\"desc-text\"},[_vm._v(\" 이미지 파일 (PNG,JPG) 1장 당 10MB 이하로 최대 3개까지 등록 가능합니다. \")]),_c('hr',{staticClass:\"wide-gray\"}),_c('form-checkbox-all',{staticClass:\"allChk\",attrs:{\"checkboxList\":_vm.agree.list.filter(function (el) { return !el.disabled; }).map(function (el) { return el.value; }),\"checkedArray\":_vm.agree.checked},on:{\"update:checkedArray\":function($event){return _vm.$set(_vm.agree, \"checked\", $event)},\"update:checked-array\":function($event){return _vm.$set(_vm.agree, \"checked\", $event)}},model:{value:(_vm.agree.all),callback:function ($$v) {_vm.$set(_vm.agree, \"all\", $$v)},expression:\"agree.all\"}},[_c('strong',{staticClass:\"sub-title mt0\"},[_vm._v(\"모든 약관에 동의합니다\")])]),_c('hr',{staticClass:\"line-gray\"}),_c('ul',{staticClass:\"check-list\"},_vm._l((_vm.agree.list),function(item,index){return _c('li',{key:index,staticClass:\"check-item\"},[_c('form-checkbox',{attrs:{\"val\":item.value,\"disabled\":false,\"required\":true,\"subType\":true},model:{value:(_vm.agree.checked),callback:function ($$v) {_vm.$set(_vm.agree, \"checked\", $$v)},expression:\"agree.checked\"}},[_vm._v(\" \"+_vm._s(item.label)+\" \")]),(item.value)?_c('button',{staticClass:\"btn-open-modal\",attrs:{\"type\":\"button\",\"title\":\"약관 팝업 열기\"},on:{\"click\":function($event){return _vm.openAgreeModal(item)}}},[_vm._v(\" 보기 \")]):_vm._e()],1)}),0),_c('div',{staticClass:\"flex-btn-group mt30\"},[_c('button',{staticClass:\"btn-primary-md\",attrs:{\"type\":\"submit\",\"disabled\":_vm.submitDisabled}},[_vm._v(\" 질문하기 \")])])],1),_c('agreeModal',{attrs:{\"name\":\"agreeModal\",\"agreeModalSeq\":_vm.agree.agreeModalSeq,\"type\":\"full\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <container headerType=\"modal\">\n    <fade-title />\n    <form @submit.prevent=\"submitData\">\n      <form-select\n        class=\"mt10\"\n        border=\"border\"\n        :options=\"form.category.options\"\n        v-model=\"form.category.value\"\n        :error=\"form.category.error\"\n        :placeholder=\"form.category.placeholder\"\n        @change=\"validateForInput('category')\"\n      />\n      <form-textarea\n        class=\"mt20\"\n        :maxlength=\"form.text.maxlength\"\n        v-model=\"form.text.value\"\n        :error=\"form.text.error\"\n        :placeholder=\"form.text.placeholder\"\n        @focusout=\"validateForInput('text')\"\n      />\n      <h2 class=\"item-title gray-70 mt20\">\n        파일첨부<span class=\"opt-text\">(선택)</span>\n      </h2>\n      <form-file-list v-model=\"form.files\" :maxImgLength=\"3\" />\n      <p class=\"desc-text\">\n        이미지 파일 (PNG,JPG) 1장 당 10MB 이하로 최대 3개까지 등록 가능합니다.\n      </p>\n\n      <hr class=\"wide-gray\" />\n      <form-checkbox-all\n        v-model=\"agree.all\"\n        :checkboxList=\"\n          agree.list.filter((el) => !el.disabled).map((el) => el.value)\n        \"\n        :checkedArray.sync=\"agree.checked\"\n        class=\"allChk\"\n      >\n        <strong class=\"sub-title mt0\">모든 약관에 동의합니다</strong>\n      </form-checkbox-all>\n\n      <hr class=\"line-gray\" />\n\n      <ul class=\"check-list\">\n        <li class=\"check-item\" v-for=\"(item, index) in agree.list\" :key=\"index\">\n          <form-checkbox\n            :val=\"item.value\"\n            v-model=\"agree.checked\"\n            :disabled=\"false\"\n            :required=\"true\"\n            :subType=\"true\"\n          >\n            {{ item.label }}\n          </form-checkbox>\n          <button\n            v-if=\"item.value\"\n            type=\"button\"\n            class=\"btn-open-modal\"\n            title=\"약관 팝업 열기\"\n            @click=\"openAgreeModal(item)\"\n          >\n            보기\n          </button>\n        </li>\n      </ul>\n\n      <div class=\"flex-btn-group mt30\">\n        <button type=\"submit\" :disabled=\"submitDisabled\" class=\"btn-primary-md\">\n          질문하기\n        </button>\n      </div>\n    </form>\n\n    <!-- TODO 김소연 : api 약관 내용 TBD -->\n    <agreeModal\n      name=\"agreeModal\"\n      :agreeModalSeq=\"agree.agreeModalSeq\"\n      type=\"full\"\n    />\n  </container>\n</template>\n\n<script>\nimport { postCoachQA, getCoachQACode } from '@/api/modules/coach';\nimport bridge from '@/utils/WebViewBridgeDefault';\nimport bus from '@/utils/bus';\nimport { mapMutations, mapState } from 'vuex';\nexport default {\n  name: 'coach-qa-write',\n  data() {\n    return {\n      form: {\n        category: {\n          require: true,\n          value: '',\n          error: '',\n          options: [],\n          placeholder: '질문 항목을 선택해주세요.',\n        },\n        text: {\n          require: true,\n          value: '',\n          error: '',\n          maxlength: 500,\n          minLength: 30,\n          placeholder:\n            '궁금하신 내용을 입력해주세요.(질문 등록 시 주민등록번호, 휴대폰번호 등 개인정보가 포함되지 않도록 유의해주세요. 질문은 비공개로 등록된 후 검토를 통해 핑글코치의 답변과 함께 공개로 전환됩니다.)',\n        },\n        files: [],\n      },\n      formValidation: {\n        category: {\n          presence: { allowEmpty: false, message: '^필수입력' },\n        },\n        text: {\n          presence: { allowEmpty: false, message: '^내용을 입력해주세요.' },\n          length: {\n            minimum: 30,\n            maximum: 500,\n            message: '^최소 30글자 이상 내용을 입력해주세요.',\n          },\n        },\n      },\n      agree: {\n        all: false,\n        checked: [],\n        list: [\n          {\n            value: 'COM00642',\n            label: '개인정보 이용 동의 (필수)',\n          },\n          {\n            value: 'COM00643',\n            label: '개인정보 제 3자 제공 동의 (필수)',\n          },\n        ],\n        agreeModalSeq: '',\n      },\n    };\n  },\n  computed: {\n    ...mapState(['canLeaveSite']),\n    submitDisabled() {\n      let state = true;\n      if (\n        this.form.category.value.length > 0 &&\n        this.form.text.value.length >= this.form.text.minLength &&\n        this.agree.checked.length === 2\n      ) {\n        state = false;\n      } else {\n        state = true;\n      }\n      return state;\n    },\n  },\n  mounted() {\n    //window.addEventListener('beforeunload', this.unLoadEvent);\n  },\n  beforeDestroy() {\n    window.removeEventListener('beforeunload', this.unLoadEvent);\n  },\n  async beforeRouteLeave(to, from, next) {\n    if (this.canLeaveSite) {\n      next();\n    } else {\n      const t = await this.$_confirm(\n        '작성 중인 문의 내용은 저장되지 않습니다. \\n문의를 취소 하시겠습니까?'\n      );\n      if (t) {\n        next();\n      }\n    }\n  },\n  async created() {\n    this.MU_CAN_LEAVE_SITE(false);\n    await this.categoryData();\n    bus.$on('pageLeave', async (resolve) => {\n      if (!this.canLeaveSite) {\n        const t = await this.$_confirm(\n          '작성 중인 문의 내용은 저장되지 않습니다. \\n문의를 취소 하시겠습니까?'\n        );\n        resolve(t);\n      }\n    });\n  },\n  methods: {\n    ...mapMutations(['MU_CAN_LEAVE_SITE']),\n    openAgreeModal(item) {\n      console.log(item);\n      this.agree.agreeModalSeq = item.value;\n      this.$_modalOpen({ name: 'agreeModal' });\n      this.$router.replace({\n        query: {\n          modal: 'agreeModal',\n          id: item.value,\n        },\n      });\n    },\n    unLoadEvent: function (event) {\n      if (this.canLeaveSite) return;\n      event.preventDefault();\n      event.returnValue = '';\n    },\n    //  핑글코치 > 분야별QNA 유형 코드\n    async categoryData() {\n      try {\n        const { data: response } = await getCoachQACode();\n        console.log(response);\n        response.list.forEach((el) => {\n          this.form.category.options.push({ value: el.cd, label: el.cdNm });\n        });\n        //console.log(response);\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    async submitData() {\n      try {\n        if (this.validateForForm()) return;\n        const formData = new FormData();\n        //파일 목록\n        this.form.files.forEach((file) => {\n          formData.append('fileList', file);\n        });\n        //분야별질문항목코드\n        formData.append('fldtpQustTrmCd', this.form.category.value);\n        //질문내용\n        formData.append('qustCtt', this.form.text.value);\n        //개인정보이용동의여부\n\n        formData.append(\n          'psnlInfoUtlAgrYn',\n          this.agree.checked.some((el) => el === 'checkList-1')\n        );\n        //개인정보3자제공동의여부\n        formData.append(\n          'psnlInfoTptyOfrAgrYn',\n          this.agree.checked.some((el) => el === 'checkList-2')\n        );\n        const response = await postCoachQA(formData);\n        console.log(response);\n        if (response.code === 'SUC001') {\n          await this.openAlertModal();\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    async openAlertModal() {\n      await this.$_alert('질문 내용 작성이 완료되었습니다.');\n      console.log('브릿지 이동'); //- 브릿지로 마이페이지 문의 내역 화면으로 이동\n      this.MU_CAN_LEAVE_SITE(true);\n      bridge.callNative.moveViewControl('native', 'CCOA0301B001', '');\n    },\n  },\n  components: {\n    agreeModal: () => import('@/views/coach/qa/modal/index'),\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.file-upload-wrap {\n  margin-top: 10px;\n}\n.allChk {\n  margin-top: 30px;\n  ::v-deep .icon-checkbox {\n    top: 8px;\n  }\n}\n\n.check-list {\n  margin-top: 20px;\n  li {\n    display: flex;\n    ::v-deep .form-checkbox {\n      padding: 0 0 0 30px;\n      [class^='icon-checkbox'] {\n        top: 0;\n      }\n    }\n    justify-content: space-between;\n    & + li {\n      margin-top: 16px;\n    }\n    ::v-deep [class^='btn'] {\n      font-size: 13px;\n      line-height: 18px;\n      color: $gray-60;\n      font-weight: normal;\n      text-decoration: underline;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./write.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./write.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./write.vue?vue&type=template&id=56dd8b38&scoped=true&\"\nimport script from \"./write.vue?vue&type=script&lang=js&\"\nexport * from \"./write.vue?vue&type=script&lang=js&\"\nimport style0 from \"./write.vue?vue&type=style&index=0&id=56dd8b38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56dd8b38\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}