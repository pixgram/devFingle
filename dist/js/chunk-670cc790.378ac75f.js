(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-670cc790"],{"08a1":function(e,t,r){},"365c":function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r("5530"),n=r("bc3a"),o=r.n(n),c=r("1da1"),s=(r("96cf"),r("d3b7"),r("d8ad")),i=r("4f9b"),u=r("4360"),l=r("a18c");function f(e){return e.interceptors.request.use((function(e){return e.headers.Authorization=u["a"].state.userInfo.apchTknVal,e.headers.app_os_code=u["a"].getters["deviceInfo/OS_CODE"],e.headers.app_version=u["a"].getters["deviceInfo/APP_VERSION"],s["a"].$emit("loading",!0),e}),(function(e){return s["a"].$emit("loading",!1),s["a"].$emit("toast",{msg:e.response.data.message,time:3e3}),console.error(e),Promise.reject(e.response)})),e.interceptors.response.use((function(e){return s["a"].$emit("loading",!1),e.data}),function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s["a"].$emit("loading",!1),"ERR104"===t.response.data.code&&(i["a"].callNative.getToken(),s["a"].$emit("toast",{msg:"토큰 만료"})),"ERR303"!==t.response.data.code){e.next=11;break}return u["a"].commit("MU_CAN_LEAVE_SITE",!0,{root:!0}),e.next=8,l["a"].push("/404");case 8:e.next=11;break;case 10:s["a"].$emit("toast",{msg:"삭제된 데이터 요청"});case 11:if(500!==(null===(r=t.response)||void 0===r?void 0:r.status)){e.next=19;break}return u["a"].commit("MU_CAN_LEAVE_SITE",!0,{root:!0}),e.next=16,l["a"].push("/500");case 16:e.next=19;break;case 18:s["a"].$emit("toast",{msg:"500에러"});case 19:return e.abrupt("return",Promise.reject(t.response));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e}function d(e){var t="".concat("https://api-app.fingle.kr","/b2c/api/"),r=o.a.create(Object.assign({baseURL:t,timeout:0,responseEncoding:"utf8"},Object(a["a"])({},e)));return f(r),r}var m=d()},"678d":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"g",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"h",(function(){return u})),r.d(t,"f",(function(){return l})),r.d(t,"i",(function(){return f})),r.d(t,"e",(function(){return d}));var a=r("365c");function n(e){return a["a"].get("/ccoa0102r001",{params:e})}function o(e){return console.log(e),a["a"].get("/ccoa0102r002",{params:e})}function c(e){return a["a"].get("/ccoa0102r003",{params:e})}function s(e){return a["a"].get("/ccoa0102r004",{params:e})}function i(e){return a["a"].get("/ccoa0102r005",{params:e})}function u(e){return a["a"].post("/ccoa0102c003",e)}function l(e){return a["a"].get("/ccomgroup/COA001",{params:e})}function f(e){return a["a"].post("/ccoa0301c001",e)}function d(e){return a["a"].get("/ccoa0301r003",{params:e})}},af5d:function(e,t,r){"use strict";r("08a1")},bd98:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("container",{attrs:{headerType:"modal"}},[r("fade-title"),r("form",{on:{submit:function(t){return t.preventDefault(),e.submitData.apply(null,arguments)}}},[r("form-select",{staticClass:"mt10",attrs:{border:"border",options:e.form.category.options,error:e.form.category.error,placeholder:e.form.category.placeholder},on:{change:function(t){return e.validateForInput("category")}},model:{value:e.form.category.value,callback:function(t){e.$set(e.form.category,"value",t)},expression:"form.category.value"}}),r("form-textarea",{staticClass:"mt20",attrs:{maxlength:e.form.text.maxlength,error:e.form.text.error,placeholder:e.form.text.placeholder},on:{focusout:function(t){return e.validateForInput("text")}},model:{value:e.form.text.value,callback:function(t){e.$set(e.form.text,"value",t)},expression:"form.text.value"}}),r("h2",{staticClass:"item-title gray-70 mt20"},[e._v(" 파일첨부"),r("span",{staticClass:"opt-text"},[e._v("(선택)")])]),r("form-file-list",{attrs:{maxImgLength:3},model:{value:e.form.files,callback:function(t){e.$set(e.form,"files",t)},expression:"form.files"}}),r("p",{staticClass:"desc-text"},[e._v(" 이미지 파일 (PNG,JPG) 1장 당 10MB 이하로 최대 3개까지 등록 가능합니다. ")]),r("hr",{staticClass:"wide-gray"}),r("form-checkbox-all",{staticClass:"allChk",attrs:{checkboxList:e.agree.list.filter((function(e){return!e.disabled})).map((function(e){return e.value})),checkedArray:e.agree.checked},on:{"update:checkedArray":function(t){return e.$set(e.agree,"checked",t)},"update:checked-array":function(t){return e.$set(e.agree,"checked",t)}},model:{value:e.agree.all,callback:function(t){e.$set(e.agree,"all",t)},expression:"agree.all"}},[r("strong",{staticClass:"sub-title mt0"},[e._v("모든 약관에 동의합니다")])]),r("hr",{staticClass:"line-gray"}),r("ul",{staticClass:"check-list"},e._l(e.agree.list,(function(t,a){return r("li",{key:a,staticClass:"check-item"},[r("form-checkbox",{attrs:{val:t.value,disabled:!1,required:!0,subType:!0},model:{value:e.agree.checked,callback:function(t){e.$set(e.agree,"checked",t)},expression:"agree.checked"}},[e._v(" "+e._s(t.label)+" ")]),t.value?r("button",{staticClass:"btn-open-modal",attrs:{type:"button",title:"약관 팝업 열기"},on:{click:function(r){return e.openAgreeModal(t)}}},[e._v(" 보기 ")]):e._e()],1)})),0),r("div",{staticClass:"flex-btn-group mt30"},[r("button",{staticClass:"btn-primary-md",attrs:{type:"submit",disabled:e.submitDisabled}},[e._v(" 질문하기 ")])])],1),r("agreeModal",{attrs:{name:"agreeModal",agreeModalSeq:e.agree.agreeModalSeq,type:"full"}})],1)},n=[],o=r("1da1"),c=r("5530"),s=(r("ac1f"),r("5319"),r("d3b7"),r("159b"),r("3ca3"),r("ddb0"),r("96cf"),r("678d")),i=r("4f9b"),u=r("d8ad"),l=r("2f62"),f={name:"coach-qa-write",data:function(){return{form:{category:{require:!0,value:"",error:"",options:[],placeholder:"질문 항목을 선택해주세요."},text:{require:!0,value:"",error:"",maxlength:500,minLength:30,placeholder:"궁금하신 내용을 입력해주세요.(질문 등록 시 주민등록번호, 휴대폰번호 등 개인정보가 포함되지 않도록 유의해주세요. 질문은 비공개로 등록된 후 검토를 통해 핑글코치의 답변과 함께 공개로 전환됩니다.)"},files:[]},formValidation:{category:{presence:{allowEmpty:!1,message:"^필수입력"}},text:{presence:{allowEmpty:!1,message:"^내용을 입력해주세요."},length:{minimum:30,maximum:500,message:"^최소 30글자 이상 내용을 입력해주세요."}}},agree:{all:!1,checked:[],list:[{value:"COM00642",label:"개인정보 이용 동의 (필수)"},{value:"COM00643",label:"개인정보 제 3자 제공 동의 (필수)"}],agreeModalSeq:""}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["d"])(["canLeaveSite"])),{},{submitDisabled:function(){var e=!0;return e=!(this.form.category.value.length>0&&this.form.text.value.length>=this.form.text.minLength&&2===this.agree.checked.length),e}}),mounted:function(){},beforeDestroy:function(){window.removeEventListener("beforeunload",this.unLoadEvent)},beforeRouteLeave:function(e,t,r){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.canLeaveSite){e.next=4;break}r(),e.next=8;break;case 4:return e.next=6,a.$_confirm("작성 중인 문의 내용은 저장되지 않습니다. \n문의를 취소 하시겠습니까?");case 6:t=e.sent,t&&r();case 8:case"end":return e.stop()}}),e)})))()},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.MU_CAN_LEAVE_SITE(!1),t.next=3,e.categoryData();case 3:u["a"].$on("pageLeave",function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canLeaveSite){t.next=5;break}return t.next=3,e.$_confirm("작성 중인 문의 내용은 저장되지 않습니다. \n문의를 취소 하시겠습니까?");case 3:a=t.sent,r(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()},methods:Object(c["a"])(Object(c["a"])({},Object(l["c"])(["MU_CAN_LEAVE_SITE"])),{},{openAgreeModal:function(e){console.log(e),this.agree.agreeModalSeq=e.value,this.$_modalOpen({name:"agreeModal"}),this.$router.replace({query:{modal:"agreeModal",id:e.value}})},unLoadEvent:function(e){this.canLeaveSite||(e.preventDefault(),e.returnValue="")},categoryData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s["f"])();case 3:r=t.sent,a=r.data,console.log(a),a.list.forEach((function(t){e.form.category.options.push({value:t.cd,label:t.cdNm})})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},submitData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.validateForForm()){t.next=3;break}return t.abrupt("return");case 3:return r=new FormData,e.form.files.forEach((function(e){r.append("fileList",e)})),r.append("fldtpQustTrmCd",e.form.category.value),r.append("qustCtt",e.form.text.value),r.append("psnlInfoUtlAgrYn",e.agree.checked.some((function(e){return"checkList-1"===e}))),r.append("psnlInfoTptyOfrAgrYn",e.agree.checked.some((function(e){return"checkList-2"===e}))),t.next=11,Object(s["i"])(r);case 11:if(a=t.sent,console.log(a),"SUC001"!==a.code){t.next=16;break}return t.next=16,e.openAlertModal();case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))()},openAlertModal:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$_alert("질문 내용 작성이 완료되었습니다.");case 2:console.log("브릿지 이동"),e.MU_CAN_LEAVE_SITE(!0),i["a"].callNative.moveViewControl("native","CCOA0301B001","");case 5:case"end":return t.stop()}}),t)})))()}}),components:{agreeModal:function(){return r.e("chunk-e972147c").then(r.bind(null,"a73d"))}}},d=f,m=(r("af5d"),r("2877")),p=Object(m["a"])(d,a,n,!1,null,"56dd8b38",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-670cc790.378ac75f.js.map